// Level 3 Рђћ corrupted world

const ACTUAL_MAP = [
  "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъфе",
  "­Ъфе­ЪїіTHE WORLD BELOW IS TWISTED AND BROKEN.­Ъїі­Ъфе",
  "­Ъфе­ЪїіTHE BUGS FEED ON CHAOS ->  ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіTHE WEBS HOLD FRAGMENTS OF LOST TRUTH­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіNOW GO, HERO­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
  "­Ъфе­ЪїіTHE­ЪїіPATH   AHEAD  IS LONG­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
  "­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
  "­Ъїі­ЪїіBUT EVERY CORRECT  LETTER  ­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
  "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіBRINGS ­ЪїіLIGHT BACK TO  THIS LAND­Ъїі­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіWHEN ­ЪфеALL IS­Ъфе REPAIRED­Ъїі­Ъїі­Ъїі ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіTHE SILENCE WILL BREAK.­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­ЪїіTHE WORLD WILL SPEAK AGAIN.     ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
];

export default {
  id: 3,
  title: "Level 3 Рђћ The Corrupted Text",
  desc: `The worldРђЎs words are tangled in webs ­ЪЋИ and overrun by bugs ­ЪљЏ! Try to use your new power (x/r) commands to fix the world!`,
  hint: `
Рџћ№ИЈ Corruption Report: <br/>

Рђб ­ЪљЏ BUG Рђћ an enemy you can stand on; press <strong>x</strong> to delete it.  <br/>
Рђб ­ЪЋИ WEB Рђћ corrupted text; stand on it and press <strong>r</strong>, then type a letter to fix.  <br/>
No door needed this time: cleanse all bugs and webs to heal the world.<br/><br/>

Type :help for useful information.
`,
  rows: [
    "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъфе",
    "­Ъфе­ЪїіTHE WORLD BELOW IS TWISTED AND BROKEN.­Ъїі­Ъфе",
    "­Ъфе­ЪїіTHE BUGS FEED ON CHAOS ->­ЪљЏ ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіTHE WEBS HOLD FRAGMENTS OF LOST TRUTH­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіNOW GO, HERO­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
    "­Ъфе­ЪїіTHE­ЪїіPAT­ЪЋИ ­ЪљЏ­ЪљЏAHEAD  IS LONG­Ъфе­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
    "­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
    "­Ъїі­ЪїіBUT EVERY­ЪљЏCORRECT ­ЪљЏLE­ЪЋИ­ЪЋИER  ­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі­Ъїі",
    "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіBRINGS­ЪљЏ­ЪїіLI­ЪЋИHT BACK TO­ЪљЏ­ЪљЏTHIS LAND­Ъїі­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіWH­ЪЋИN ­ЪфеALL IS­Ъфе REPAIRED­Ъїі­Ъїі­Ъїі­ЪљЏ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­ЪфеРєЊРєЊ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіTHE SIL­ЪЋИNCE WILL BREAK.­Ъїі­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­ЪїіTHE WO­ЪЋИ­ЪЋИD WILL SPEAK AGAIN.­ЪљЏ­ЪљЏ­ЪљЏ­ЪљЏ­ЪљЏ­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
    "­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе­Ъфе",
  ],
  targetRows: ACTUAL_MAP,
  hasCorruption: true,
  player: { x: 2, y: 2 },
  allowedKeys: new Set(["h", "j", "k", "l", "b", "w", "e", "x", "r"]),
  winCon(state) {
    // win after removing all bugs and correcting all words
    const { grid } = state;
    for (let i = 0; i < grid.length; i++) {
      if (i >= ACTUAL_MAP.length || ACTUAL_MAP[i] !== grid[i].join("")) {
        return false;
      }
    }
    return true;
  },
};
